<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->
    <link rel="icon" type="image/x-icon" th:href="@{assets/Mercadona_logo.png}" />
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" th:href="@{fonts/font-awesome-4.7.0/css/font-awesome.min.css}">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" th:href="@{fonts/iconic/css/material-design-iconic-font.min.css}">

    <link rel="stylesheet" type="text/css" th:href="@{css/util.css}">
    <link rel="stylesheet" type="text/css" th:href="@{css/main.css}">

    <link rel="stylesheet" type="text/css" th:href="@{css/filter.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" media="all"
          th:href="@{/css/style.css}" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <title>Produits</title>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class="container px-4 px-lg-5">
    <a class="navbar-brand" th:href="@{/admins}">Mercadona</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

</div>
</nav>

<br>



<div class="container">
    <div class="row">
        <h1> Les produits </h1>
    </div>

    <div class="row">

        <div class="col-lg-3">

            <a th:href="@{/produits/nouveau}" class="btn btn-primary btn-sm mb-3"> Ajouter un produit ou une promotion</a>

            <form th:action="@{/catalogue/admins}" method="get">
                <input type="text" name="keyword" th:value="${keyword}" placeholder="Chercher une catégorie">
                <button type="submit">Go</button>
            </form>


        </div>


    </div>
    <br>
    <table class="table table-striped table-bordered">
    <thead class="table-dark">
    <tr>

        <th> Libellé </th>
        <th> Description </th>
        <th> Prix </th>

        <th> Date de début de promotion</th>
        <th> Date de fin de promotion</th>
        <th> Catégorie </th>
        <th> Actions </th>

    </tr>
    </thead>

        <tbody>

        <tr th:each = "produit : ${produits}" th:field="${produit}">
            <td th:text = "${produit.libelle}"></td>
            <td th:text = "${produit.description}"></td>
            <td th:text = "${produit.prix * (1 - produit.reduction / 100 )}" th:if="*{produit.reduction > 0}" class="text-danger gras"></td>
            <td th:text = "${produit.prix}" th:if="*{produit.reduction == 0}"></td>

            <td th:text = "${produit.date_debut}"></td>
            <td th:text = "${produit.date_fin}"></td>
            <td th:text = "${produit.categorie}"></td>
            <td>
                <a th:href=" @{/produits/modifier/{id}(id=${produit.id})}" class="btn btn-primary"> Modifier </a>
                <a th:href=" @{/produits/{id}(id=${produit.id})}" class="btn btn-danger"> Supprimer</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
